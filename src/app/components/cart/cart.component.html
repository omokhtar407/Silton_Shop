
<section id="Cart" class="pad_top pb-5">
  <div class="container">
    <div class="row g-4 justify-content-center">

      <div class="col-12 ">
          <div class="title">
            <h2>
              CART
              <small>YOU'VE GOT {{products.length}} ITEMS IN THE CART</small>
            </h2>
            <span class="dash"></span>
          </div>
      </div>

      <div *ngIf="products.length" class="col-12 position-relative">
        <div class="container">
          <div class="row g-4 overflow-auto p-3">
            <table class="table table-responsive align-middle ">
              <thead>
                <tr>
                  <th></th>
                  <th>PRODUCT</th>
                  <th>QUANTITY</th>
                  <th>SUBTOTAL</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr  *ngFor="let product of products">
                  <td>
                    <a class="pro_img" [routerLink]="['/product-info', product.id]">
                      <img
                        [src]="product.category.image"
                        [alt]="product.title"
                      />
                    </a>
                  </td>
                  <td>
                    <span ><a class="pro_name" [routerLink]="['/product-info', product.id]">{{product.title}}</a></span>
                  </td>
                  <td class="pro_quantity">{{product.quantity}}</td>
                  <td class="pro_price" >$ {{product.price}}</td>
                  <td class="pro_tools" >
                    <button class="btn" (click)="removeProduct(product); ">delete</button>
                  </td>
                </tr>
                <tr>
                  <td class="cart_total" colspan="5">
                    Cart Total:- <strong>$ {{grandTotal}}</strong>
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="delete_cart_pro">
              <button class="btn" (click)="removeAllProducts();">Delete All</button>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="products.length == 0" class="col-12">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6 ">
              <div class="empty_cart">
                <img class="w-100" src="assets/imgs/empty-cart.png" alt="empty-cart">
                <a class="btn" routerLink='/shop' >Shop Now</a>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
